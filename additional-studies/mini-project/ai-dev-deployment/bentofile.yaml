service: "service:PyTorchModelService"
labels:
  owner: "ml-team"
  stage: "production"
  model_type: "pytorch"

include:
  - "*.py"
  - "models/"
  - "data/"
python:
  packages:
    - "torch>=2.0.0"
    - "torchvision>=0.15.0"
    - "fastapi>=0.68.0"
    - "uvicorn[standard]>=0.15.0"
    - "pydantic>=1.8.0"
    - "numpy>=1.21.0"
    - "pillow>=8.3.0"
  lock_packages: true

docker:
  base_image: "nvidia/cuda:12.1-runtime-ubuntu20.04"
  python_version: "3.10"
  cuda_version: "12.1"
  system_packages:
    - "git"
    - "curl"

resources:
  gpu: 1
  gpu_type: "nvidia-rtx-5090"
  memory: "8Gi"
  cpu: "4"